# RSA Encryption System

Проект предоставляет реализацию системы RSA-шифрования с поддержкой передачи данных через последовательный порт (COM-порт). Программа позволяет работать с ключами шифрования, подписывать файлы и проверять цифровые подписи.

## Основные возможности
- Добавление новых RSA-ключей вручную.
- Удаление отдельных ключей или всех ключей сразу.
- Просмотр списка всех сохраненных ключей.
- Шифрование и дешифрование файлов.
- Цифровая подпись файлов.
- Проверка цифровой подписи.
- Управление через последовательный порт (COM-порт).

## Требования
- Операционная система Windows.
- Компилятор, поддерживающий C++ (например, MinGW, Visual Studio).
- Подключенное устройство через COM-порт.

## Как использовать

### 1. Настройка COM-порта
Программа автоматически пытается подключиться к COM3. Если ваше устройство использует другой COM-порт, измените параметр в функции `init_com`:
```cpp
if (init_com("COM3")) {
```
Замените `"COM3"` на нужный вам порт.

### 2. Компиляция и запуск
Скомпилируйте проект с использованием любого компилятора C++. Например:
```bash
g++ main.cpp -o rsa_encryption_system
```
Запустите скомпилированный файл:
```bash
rsa_encryption_system
```

### 3. Основное меню
После запуска программы отобразится главное меню, где можно выбрать одно из доступных действий:
- Добавить ключ вручную.
- Удалить ключ.
- Удалить все ключи.
- Посмотреть список всех ключей.
- Зашифровать файл.
- Расшифровать файл.
- Повторно подключиться к устройству.
- Подписать файл.
- Проверить цифровую подпись.

Для выбора действия введите номер команды и следуйте инструкциям программы.

## Структура кода
- **Основные функции:**
  - `add_key_manually()` — добавление ключей вручную.
  - `remove_key()` — удаление конкретного ключа.
  - `remove_all_keys()` — удаление всех ключей.
  - `show_all_keys()` — просмотр всех ключей.
  - `encrypt()` — шифрование файла.
  - `decrypt()` — дешифрование файла.
  - `digital_sign()` — цифровая подпись файла.
  - `digital_sign_check()` — проверка подписи.

- **Поддержка последовательного порта:**
  - `init_com()` — инициализация COM-порта.
  - `send_8()`, `send_16()` — отправка данных через порт.
  - `get_8()`, `get_16()` — получение данных через порт.

- **Генерация ключей:**
  - `randint()` — генерация случайного числа.
  - `gcd()` — проверка числа на простоту.
  - `rand_primal()` — генерация случайного простого числа.

## Пример работы
1. Добавление ключа:
   ```
   Введите n: 3233
   Введите e: 17
   Введите d: 2753
   Новый ключ успешно добавлен.
   ```

2. Шифрование файла:
   ```
   Файл для шифрования: input.txt
   Файл для сохранения зашифрованных данных: encrypted.bin
   Успешно зашифровано.
   ```

3. Проверка цифровой подписи:
   ```
   Укажите файл с подписью: signature.bin
   Укажите подписанный файл: input.txt
   GOOD!
   ```

## Зависимости
Для работы программы требуется:
- **Windows API** для работы с COM-портом.
- **stdlib.h**, **conio.h**, **cmath**, **ctime**, **fstream** — стандартные библиотеки C++.
